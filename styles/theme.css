:root {
  /* Light theme tokens */
  --nextra-bg: 248 245 255;
  --nextra-primary-hue: 286;
  --nextra-primary-saturation: 50%;
  --nextra-primary-lightness: 44%;

  --x-color-gray-50: #f8f6fb;
  --x-color-gray-100: #f1edf8;
  --x-color-gray-200: #e6def2;
  --x-color-gray-300: #d1c6e4;
  --x-color-gray-400: #9f90b6;
  --x-color-gray-600: #5b4c73;
  --x-color-gray-700: #534467;
  --x-color-gray-800: #2f2340;
  --x-color-gray-900: #1c132a;

  --nextra-navbar-height: 100px;
}

.dark {
  /* Dark theme tokens */
  --nextra-bg: 10 6 20;
  --nextra-primary-hue: 286;
  --nextra-primary-saturation: 50%;
  --nextra-primary-lightness: 55%;

  --x-color-gray-50: #837b90;
  --x-color-gray-100: #7b6f95;
  --x-color-gray-200: #a89dc0;
  --x-color-gray-300: #c3b9d7;
  --x-color-gray-400: #e0d9ee;
  --x-color-gray-600: #f1edf7;
  --x-color-gray-700: #f6f3fc;
  --x-color-gray-800: #faf8fe;
  --x-color-gray-900: #ffffff;
}

html,
body,
footer {
  background-color: rgb(var(--nextra-bg));
}

/* Reusable docs card layout (theme-aware in light/dark) */
.doc-card-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
  margin-bottom: 2rem;
}

@media (min-width: 768px) {
  .doc-card-grid {
    grid-template-columns: 1fr 1fr;
  }
}

.doc-card {
  border: 1px solid color-mix(in oklab, var(--x-color-gray-600) 18%, transparent);
  border-radius: 8px;
  padding: 1.5rem;
  background: color-mix(in oklab, var(--x-color-gray-600) 6%, transparent);
}

details[open]>summary:first-child>svg {
    rotate: 90deg;
}

/* Top level tabs */
header>nav {
  display: flex;
  flex-wrap: wrap;
  padding-top: 16px;

  >div {
    height: 32px;

    &:nth-child(2) {
      flex-grow: 1;
      padding: 0;
      align-items: stretch;
      height: 32px;
      width: 100%;
      display: flex;
      order: 10;

      >a {
        display: flex;
        align-items: center;
        padding: 2px 0;

        &[aria-current] {
          color: var(--x-color-primary-600) !important;
          border-bottom: 2px solid var(--x-color-primary-600);
          padding-bottom: 0;
        }
      }
    }
  }
}

/* Tables */
table {
  margin-top: 24px;
  border-collapse: separate;
  border-spacing: 0;
  width: 100%;

  thead th {
    border: 0;
    padding: 12px 16px;
    text-align: left;
    background: color-mix(in oklab, var(--x-color-gray-600) 10%, transparent);

    &:first-child {
      border-top-left-radius: 8px;
      border-bottom-left-radius: 8px;
    }

    &:last-child {
      border-top-right-radius: 8px;
      border-bottom-right-radius: 8px;
    }

    &+th {
      border-left: 0;
    }
  }

  tbody td {
    padding: 16px;
    border: 0;
    border-bottom: 1px solid color-mix(in oklab, var(--x-color-gray-600) 10%, transparent);
  }

  tbody tr {
    background: transparent;

    &:last-child td {
      border-bottom: 0;
    }
  }
}

/* Swagger UI Dark Mode Fixes */
.swagger-ui {
  .wrapper {
    padding: 0 !important;
  }

  .opblock-tag-section {
    background: none !important;
  }

  table {
    margin: 0;
    background: none !important;
    ;
  }

  th {
    background: none;
  }

  .opblock-control-arrow,
  .expand-operation {
    position: relative;
    color: currentColor;
    padding: 12px;

    svg.arrow {
      display: none;
    }

    &::before {
      content: "";
      display: inline-block;
      width: 8px;
      height: 8px;
      border-right: 2px solid currentColor;
      border-bottom: 2px solid currentColor;
      transform: rotate(45deg);
      transition: transform 0.15s ease;
    }

    &[aria-expanded="true"]::before {
      transform: rotate(-135deg);
    }
  }
}

.dark {
  .swagger-ui {
    color: var(--x-color-gray-700);

    .info,
    .info .title,
    .info .title small,
    .info .title small pre,
    .info a,
    p,
    th,
    td,
    button {
      color: var(--x-color-gray-900) !important;
    }

    .opblock,
    .opblock-tag-section,
    .scheme-container,
    .parameters,
    .responses-wrapper,
    .model-box,
    .model {
      color: var(--x-color-gray-900);
      background: color-mix(in oklab, var(--x-color-gray-600) 6%, transparent);
      border-color: color-mix(in oklab, var(--x-color-gray-600) 18%, transparent);
    }

    .opblock-summary,
    .opblock-tag,
    .tab-header .tab-item {
      color: var(--x-color-gray-900);
      border-color: color-mix(in oklab, var(--x-color-gray-600) 18%, transparent);
    }

    .opblock-summary-method,
    .opblock-title,
    h4 {
      color: var(--x-color-gray-900) !important;
    }

    .opblock-section-header {
      color: var(--x-color-gray-900);
      background: color-mix(in oklab, var(--x-color-gray-600) 6%, transparent) !important;
    }

    .parameter__name,
    .parameter__type,
    .response-col_status,
    .response-col_description,
    .model-title,
    .model .property.primitive,
    .model .property,
    .model-toggle {
      color: var(--x-color-gray-900);
    }

    .description,
    .markdown,
    .renderedMarkdown,
    .responses-inner,
    .parameter__in {
      color: var(--x-color-gray-700);
    }

    input[type="text"],
    input[type="password"],
    input[type="search"],
    input[type="email"],
    input[type="url"],
    input[type="number"],
    select,
    textarea {
      background: color-mix(in oklab, var(--x-color-gray-600) 10%, transparent);
      color: var(--x-color-gray-900);
      border-color: color-mix(in oklab, var(--x-color-gray-600) 20%, transparent);
    }

    .btn,
    .btn.cancel,
    .btn.execute {
      color: var(--x-color-gray-900);
      background: color-mix(in oklab, var(--x-color-gray-600) 14%, transparent);
      border-color: color-mix(in oklab, var(--x-color-gray-600) 22%, transparent);
    }

    .table-container,
    table {
      color: var(--x-color-gray-800);
    }

    .highlight-code,
    pre,
    code {
      color: var(--x-color-gray-900);
      background: color-mix(in oklab, var(--x-color-gray-600) 10%, transparent);
    }

    .opblock .opblock-summary-path,
    .opblock .opblock-summary-operation-id {
      color: var(--x-color-gray-900);
    }
  }
}