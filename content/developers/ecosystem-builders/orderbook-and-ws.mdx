# Orderbook + DLOB websocket

The DLOB server powers the UI orderbook and trades feed. It exposes a websocket interface and uses a small set of channels.

### Step 1: Connect to the DLOB websocket

Base URL:

- `https://dlob.drift.trade`

You’ll connect to its websocket endpoint (e.g. `wss://dlob.drift.trade/ws`).

### Step 2: Subscribe to channels and handle updates

Supported channels include: `orderbook`, `orderbook_indicative`, `trades`, `heartbeat`

<SDKDoc>
  <TypeScript name="WebSocket" type="class">
```js
const ws = new WebSocket("wss://dlob.drift.trade/ws");

ws.onopen = () => {
  // Subscribe to orderbook updates
  ws.send(JSON.stringify({
    type: "subscribe",
    channel: "orderbook",
    marketType: "perp",
    market: "SOL-PERP",
    grouping: 10  // Price grouping (0.01 increments)
  }));

  // Subscribe to trades
  ws.send(JSON.stringify({
    type: "subscribe",
    channel: "trades",
    marketType: "perp",
    market: "SOL-PERP"
  }));
};

ws.onmessage = (event) => {
  const update = JSON.parse(event.data);

  if (update.channel === "orderbook") {
    console.log("Bids:", update.data.bids);
    console.log("Asks:", update.data.asks);
  }

  if (update.channel === "trades") {
    console.log("New trade:", update.data);
  }
};

// Handle connection lifecycle
ws.onerror = (error) => console.error("DLOB WS error:", error);
ws.onclose = () => console.log("DLOB WS closed");
```
  </TypeScript>
</SDKDoc>

### Step 3: Handle indicative quotes

Use `orderbook_indicative` to surface indicative quotes for routing and discovery. It uses the same message shape as `orderbook`.

### Step 4: Map symbols consistently

Market symbols match UI markets (e.g. `SOL-PERP`). Keep your market list in sync with the SDK’s market metadata to avoid mismatches.
